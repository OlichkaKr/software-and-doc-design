<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% include 'header.html' %}
</head>
<body>
    <div class="container" style="margin-left: 2px;">
        <div class="row">
            <div class="col-md-2" style="margin-bottom: 5px">
                <div class="btn btn-block btn-primary" onclick="createOnClick('user')">Add User</div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <table id="user_table" class="table table-striped table-bordered">
                </table>
            </div>
        </div>
    </div>
</body>

{% include 'footer.html' %}
<script>
    $(document).ready(function() {
        table = $('#user_table').DataTable( {
            responsive: true,
            processing: true,
            ajax: "/users",
            ordering: false,
            searching: false,
            columns: [
                { title: 'First Name', data: 'first_name' },
                { title: 'Last Name', data : 'last_name' },
                { title: 'Username', data: 'public_display_name' },
                { title: 'About me', data: 'about_me' },
                { title: 'Profile link', data: 'profile_link' },
                { title: 'Email', data: 'email' },
                { title: 'Password', data: 'password' },
                { title: 'Followers', data: 'followers' },
                { title: 'Following', data: 'following_users' },
                { title: 'Purchase Plan', data: 'purchase' },
                { title: 'Websites', data: 'sites' },
                { title: 'Action', width: '20%', render: function ( data, type, row, meta ) {
                    return `<div><div><div class="btn btn-block btn-primary"
                            onclick="editOnClick('user', ${row.id})">Edit</div></div>
                            <div><div class="btn btn-block btn-danger"
                            onclick="deleteOnClick('user', ${row.id})">Delete</div></div></div>`
                    }
                }
            ]
        } );
    } );
</script>
</html>